var configMinuto,configSegundo,mostrarValor,evento=null,contador=null,minuto=0,segundo=0;function IniciarCronometro(e){if(this.evento=e,this.configMinuto=document.getElementById("min").value,this.configSegundo=document.getElementById("seg").value,this.mostrarValor=document.getElementById("mostrarValor"),"start"==evento)if(document.getElementById("min").readOnly){if(0==this.segundo&&0!=this.minuto?(this.segundo=59,this.minuto--):this.segundo--,0==this.minuto&&0==this.segundo)return document.getElementById("min").readOnly=!1,document.getElementById("seg").readOnly=!1,document.getElementById("btnIniciar").disabled=!0,document.getElementById("btnResetar").disabled=!1,document.getElementById("btnPausar").disabled=!1,this.mostrarValor.value="00:00",document.getElementById("mostrarValor").classList.remove("mostrarValor2"),document.getElementById("mostrarValor").classList.add("mostrarValor"),document.getElementById("exibe").classList.remove("Classexibe2"),void document.getElementById("exibe").classList.add("Classexibe");novoMinuto=null,novoSegundo=null,this.minuto<=9?novoMinuto="0"+this.minuto:novoMinuto=this.minuto,this.segundo<=9?novoSegundo="0"+this.segundo:novoSegundo=this.segundo,this.mostrarValor.value=novoMinuto+":"+novoSegundo}else{if(!this.validarNumero(this.configMinuto))return void alert("Campo minuto não é um número!");if(!this.validarNumero(this.configSegundo)||59<document.getElementById("seg").value)return void alert("Campo segundo não é um número válido (0 a 59)!");document.getElementById("min").readOnly=!0,document.getElementById("seg").readOnly=!0,document.getElementById("btnIniciar").disabled=!0,document.getElementById("btnResetar").disabled=!1,document.getElementById("btnPausar").disabled=!1,this.minuto=document.getElementById("min").value,this.segundo=document.getElementById("seg").value,document.getElementById("mostrarValor").classList.remove("mostrarValor"),document.getElementById("mostrarValor").classList.add("mostrarValor2"),document.getElementById("exibe").classList.remove("Classexibe"),document.getElementById("exibe").classList.add("Classexibe2")}clearTimeout(this.contador),this.contador=setInterval("IniciarCronometro(evento)",1e3)}function validarNumero(e){return!isNaN(parseFloat(e))&&isFinite(e)}function PausarCronometro(){"PAUSAR"==document.getElementById("btnPausar").value?(document.getElementById("btnPausar").value="VOLTAR",this.evento="pause"):(document.getElementById("btnPausar").value="PAUSAR",this.evento="start")}function ResetarCronometro(){document.getElementById("min").readOnly=!1,document.getElementById("seg").readOnly=!1,document.getElementById("btnIniciar").disabled=!1,document.getElementById("btnResetar").disabled=!0,document.getElementById("btnPausar").disabled=!0,document.getElementById("btnPausar").value="PAUSAR",this.mostrarValor.value="00:00",document.getElementById("mostrarValor").classList.remove("mostrarValor2"),document.getElementById("mostrarValor").classList.add("mostrarValor"),document.getElementById("exibe").classList.remove("Classexibe2"),document.getElementById("exibe").classList.add("Classexibe"),clearTimeout(this.contador)}function getActionServo(){nocache="&nocache"+1e6*Math.random();var e=new XMLHttpRequest;e.open("GET","ajax_alaweb"+nocache,!0),e.send(null)}$("#btnIniciar").click(function(){var e=parseInt($("#min").val()),t=parseInt($("#seg").val()),n=new Number;(n=0)<e&&0==t?n=6e4*e:0==e&&0<t?n=1e3*t:0<e&&0<t?n=6e4*e+100*t:alert("Erro de registro");var o=setInterval(function(){$("#btnAtivar").trigger("click")},n+1e3);$("#btnPausar").click(function(){clearInterval(o)}),$("#btnResetar").click(function(){clearInterval(o)})});
